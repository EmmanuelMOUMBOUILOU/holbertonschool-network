#!/usr/bin/env bash
# Script that configures /etc/hosts so localhost resolves to 127.0.0.2 and facebook.com to 8.8.8.8

# Replace the localhost entry with 127.0.0.2
sudo sed -i 's/^127\.0\.0\.1\s\+localhost/127.0.0.2\tlocalhost/' /etc/hosts

# Add or replace facebook.com entry
grep -q "facebook.com" /etc/hosts && \
    sudo sed -i 's/.*facebook.com/8.8.8.8\tfacebook.com/' /etc/hosts || \
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
